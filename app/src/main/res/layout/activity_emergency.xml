<?xml version="1.0" encoding="utf-8"?>
<androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#FFFFFF">

    <!-- Header Section -->
    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal"
        android:gravity="center_vertical"
        android:padding="16dp"
        android:background="#FFFFFF"
        android:elevation="4dp">

        <Button
            android:id="@+id/buttonBack"
            android:layout_width="40dp"
            android:layout_height="40dp"
            android:text="←"
            android:textSize="20sp"
            android:textColor="#000000"
            android:background="@android:color/transparent"
            android:fontFamily="sans-serif-medium" />

        <TextView
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:text="Emergency"
            android:textSize="20sp"
            android:textStyle="bold"
            android:textColor="#FF0000"
            android:gravity="center"
            android:fontFamily="sans-serif-black" />

        <View
            android:layout_width="40dp"
            android:layout_height="40dp" />

    </LinearLayout>

    <!-- Main Content -->
    <androidx.core.widget.NestedScrollView
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_marginTop="72dp"
        android:fillViewport="true">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:padding="20dp">

            <!-- Emergency Alert Button -->
            <Button
                android:id="@+id/buttonEmergencyAlert"
                android:layout_width="match_parent"
                android:layout_height="60dp"
                android:text="🚨 EMERGENCY ALERT"
                android:textSize="18sp"
                android:textStyle="bold"
                android:textColor="#FFFFFF"
                android:background="#FF0000"
                android:layout_marginBottom="24dp"
                android:fontFamily="sans-serif-black" />

            <!-- Motion Status Indicators (Fixed for Accelerometer) -->
            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:layout_marginBottom="16dp"
                android:visibility="gone">

                <TextView
                    android:id="@+id/textViewShakeAlert"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="🚨 Shake Alert"
                    android:textSize="16sp"
                    android:textColor="#FF0000"
                    android:visibility="gone"
                    android:padding="8dp"
                    android:background="#FFEBEE"
                    android:fontFamily="sans-serif-black" />

                <TextView
                    android:id="@+id/textViewMotionStatus"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="📱 Motion Status"
                    android:textSize="14sp"
                    android:textColor="#666666"
                    android:visibility="gone"
                    android:padding="8dp"
                    android:fontFamily="sans-serif" />

            </LinearLayout>

            <!-- Emergency Instructions -->
            <androidx.cardview.widget.CardView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="24dp"
                app:cardCornerRadius="12dp"
                app:cardElevation="4dp"
                app:cardBackgroundColor="#FFFFFF">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="20dp">

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="🛠️ Emergency Instructions"
                        android:textSize="16sp"
                        android:textStyle="bold"
                        android:textColor="#FF0000"
                        android:layout_marginBottom="12dp"
                        android:fontFamily="sans-serif-black" />

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="• Stay calm and assess the situation\n• Press the emergency alert button if immediate help is needed\n• Your location will be shared with emergency contacts\n• Follow safety procedures and wait for assistance"
                        android:textSize="14sp"
                        android:textColor="#000000"
                        android:lineSpacingExtra="4dp"
                        android:fontFamily="sans-serif" />

                </LinearLayout>

            </androidx.cardview.widget.CardView>

            <!-- Quick Contacts -->
            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Quick Contacts"
                android:textSize="18sp"
                android:textStyle="bold"
                android:textColor="#000000"
                android:layout_marginBottom="16dp"
                android:fontFamily="sans-serif-black" />

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:layout_marginBottom="32dp">

                <!-- First Row: Police and Medical -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:layout_marginBottom="12dp">

                    <Button
                        android:id="@+id/buttonPolice"
                        android:layout_width="0dp"
                        android:layout_height="60dp"
                        android:layout_weight="1"
                        android:layout_marginEnd="8dp"
                        android:text="👮 Police\n119"
                        android:textSize="14sp"
                        android:textColor="#000000"
                        android:background="@drawable/emergency_button_border"
                        android:gravity="center"
                        android:fontFamily="sans-serif-medium" />

                    <Button
                        android:id="@+id/buttonMedical"
                        android:layout_width="0dp"
                        android:layout_height="60dp"
                        android:layout_weight="1"
                        android:layout_marginStart="8dp"
                        android:text="🏥 Medical\n110"
                        android:textSize="14sp"
                        android:textColor="#000000"
                        android:background="@drawable/emergency_button_border"
                        android:gravity="center"
                        android:fontFamily="sans-serif-medium" />

                </LinearLayout>

                <!-- Second Row: Family and Bus Support -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal">

                    <Button
                        android:id="@+id/buttonFamily"
                        android:layout_width="0dp"
                        android:layout_height="60dp"
                        android:layout_weight="1"
                        android:layout_marginEnd="8dp"
                        android:text="👨‍👩‍👧‍👦 Family\nContact"
                        android:textSize="14sp"
                        android:textColor="#000000"
                        android:background="@drawable/emergency_button_border"
                        android:gravity="center"
                        android:fontFamily="sans-serif-medium" />

                    <Button
                        android:id="@+id/buttonBusSupport"
                        android:layout_width="0dp"
                        android:layout_height="60dp"
                        android:layout_weight="1"
                        android:layout_marginStart="8dp"
                        android:text="🚌 Bus Company\nSupport"
                        android:textSize="14sp"
                        android:textColor="#000000"
                        android:background="@drawable/emergency_button_border"
                        android:gravity="center"
                        android:fontFamily="sans-serif-medium" />

                </LinearLayout>

            </LinearLayout>

            <!-- Current Location -->
            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Current Location"
                android:textSize="18sp"
                android:textStyle="bold"
                android:textColor="#000000"
                android:layout_marginBottom="16dp"
                android:fontFamily="sans-serif-black" />

            <androidx.cardview.widget.CardView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="24dp"
                app:cardCornerRadius="12dp"
                app:cardElevation="4dp"
                app:cardBackgroundColor="#F8F8F8">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="20dp">

                    <TextView
                        android:id="@+id/textViewCurrentLocation"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="📍 Negombo, Western Province\nAccuracy: ±5 meters • Last updated: Now"
                        android:textSize="16sp"
                        android:textColor="#000000"
                        android:layout_marginBottom="16dp"
                        android:fontFamily="sans-serif" />

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:gravity="center_vertical">

                        <TextView
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:text="Share location with emergency contacts"
                            android:textSize="14sp"
                            android:textColor="#000000"
                            android:fontFamily="sans-serif" />

                        <Switch
                            android:id="@+id/switchShareLocation"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content" />

                    </LinearLayout>

                </LinearLayout>

            </androidx.cardview.widget.CardView>

            <!-- Report Incident -->
            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Report Incident"
                android:textSize="18sp"
                android:textStyle="bold"
                android:textColor="#000000"
                android:layout_marginBottom="16dp"
                android:fontFamily="sans-serif-black" />

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical">

                <!-- First Row -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:layout_marginBottom="12dp">

                    <Button
                        android:id="@+id/buttonBusIssue"
                        android:layout_width="0dp"
                        android:layout_height="48dp"
                        android:layout_weight="1"
                        android:layout_marginEnd="8dp"
                        android:text="🚌 Bus Issue"
                        android:textSize="14sp"
                        android:textColor="#000000"
                        android:background="@drawable/incident_button_border"
                        android:fontFamily="sans-serif-medium" />

                    <Button
                        android:id="@+id/buttonSafetyConcern"
                        android:layout_width="0dp"
                        android:layout_height="48dp"
                        android:layout_weight="1"
                        android:layout_marginStart="8dp"
                        android:text="⚠️ Safety Concern"
                        android:textSize="14sp"
                        android:textColor="#000000"
                        android:background="@drawable/incident_button_border"
                        android:fontFamily="sans-serif-medium" />

                </LinearLayout>

                <!-- Second Row -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal">

                    <Button
                        android:id="@+id/buttonRoadBlock"
                        android:layout_width="0dp"
                        android:layout_height="48dp"
                        android:layout_weight="1"
                        android:layout_marginEnd="8dp"
                        android:text="🚧 Road Block"
                        android:textSize="14sp"
                        android:textColor="#000000"
                        android:background="@drawable/incident_button_border"
                        android:fontFamily="sans-serif-medium" />

                    <Button
                        android:id="@+id/buttonOther"
                        android:layout_width="0dp"
                        android:layout_height="48dp"
                        android:layout_weight="1"
                        android:layout_marginStart="8dp"
                        android:text="📝 Other"
                        android:textSize="14sp"
                        android:textColor="#000000"
                        android:background="@drawable/incident_button_border"
                        android:fontFamily="sans-serif-medium" />

                </LinearLayout>

            </LinearLayout>

        </LinearLayout>

    </androidx.core.widget.NestedScrollView>

</androidx.coordinatorlayout.widget.CoordinatorLayout>
